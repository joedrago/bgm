<html>
<head>
    <link rel="manifest" href="manifest.json">
    <title>Bad Guy Minesweeper</title>
    <style type="text/css">
        html, body {
            margin: 0;
            padding: 0;
            overflow: auto;
        }
        body {
            border: none;
            background-color: #000000;
        }
        canvas {
            margin: 0;
            padding: 0;
            border: none;
            background-color: #000000;
        }
        #screen {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<script>
function BlockDefaults(event) {
    event.preventDefault();
}
</script>
<body ontouchstart="BlockDefaults(event)" ontouchmove="BlockDefaults(event)" ontouchend="BlockDefaults(event)">
    <script src="lib/phaser.min.js"></script>
    <script src="lib/random.js"></script>
    <script src="lib/index.js?v=108"></script>
    <div id="portrait" style="display:none">
        <br>
        <br>
        <br>
        <br>
        <center>
            <div style="color: #ffaaaa; font-size: 32px; font-family: monospace">
                Turn your phone sideways, please.
            </div>
        </center>
    </div>
    <div id="screen"></div>
<script>
var isMobile = {
    Android: function() {
        return navigator.userAgent.match(/Android/i);
    },
    BlackBerry: function() {
        return navigator.userAgent.match(/BlackBerry/i);
    },
    iOS: function() {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i);
    },
    Opera: function() {
        return navigator.userAgent.match(/Opera Mini/i);
    },
    Windows: function() {
        return navigator.userAgent.match(/IEMobile/i);
    },
    any: function() {
        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());
    }
};

if(isMobile.any()) {
    window.onorientationchange = function() {
        window.location.reload();
    }

    var allowPortrait = false;
    var querystring = window.location.search;
    if(!querystring) {
        querystring = "";
    }
    var matches = querystring.match(/portrait/);
    if (matches) {
        allowPortrait = true;
    }

    if(!allowPortrait) {
        if(window.innerHeight > window.innerWidth) {
            document.getElementById("screen").style.display = "none";
            document.getElementById("portrait").style.display = "block";
        }
    }
}
</script>
</body>
</html>
